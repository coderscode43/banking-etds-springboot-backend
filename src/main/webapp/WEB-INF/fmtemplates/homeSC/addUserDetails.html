<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<br>
	<div id="page-wrapper">
		<div class="container-fluid">
			<div class="row">
				<h1>Add User Details</h1>
			</div>
			<div class="row">
				<div class="col-md-12">
					<form role="form" name="formUserDetails">
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<h6>
										<label>User Name*</label>
									</h6>
									<input class="form-control" type="text" id="userName" name="userName"
										placeholder="User Name" ng-model="cCctr.entity.userName"
										autocomplete="on " ng-required="true" ng-maxlength="100"
										ng-pattern="/^[a-zA-Z0-9]*$/"
										ng-model-options="{updateOn: 'blur'}" /> 
										<span style="color: red"
											ng-show="formUserDetails.submitted || formUserDetails.userName.$dirty && formUserDetails.userName.$invalid">
											<span class="error"
												  ng-show="formUserDetails.userName.$error.pattern">
												  Enter valid Name </span>
											<span class="error"
												  ng-show="formUserDetails.userName.$error.maxlength">
												  Name should not be greater than 45 characters.</span>
											<span class="error" ng-show="formUserDetails.userName.$error.required">
												  Name is Required.</span>
									   </span> 
									   <span class="error" id="userName"></span> 
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<h6>
											<label>Branch Code*</label>
										</h6>
										<input class="form-control" type="text" id = "branchCode" name="branchCode"
											placeholder=" Branch Code" ng-model="cCctr.entity.branchCode"
											autocomplete="off" ng-required="true" ng-maxlength="10" ng-minlength="10"
											ng-pattern="/^[a-zA-Z0-9]*$/"
											ng-model-options="{updateOn: 'blur'}" /> <span
											style="color: red"
											ng-show="formUserDetails.submitted || formUserDetails.branchCode.$dirty && formUserDetails.branchCode.$invalid">
										<span class="error"
												ng-show="formUserDetails.roCode.$error.pattern"> 
												Enter valid Branch Code </span>
										<span class="error" ng-show="formUserDetails.branchCode.$error.maxlength">
												Branch Code should not be greater than 10 characters.</span>
										<span class="error" ng-show="formUserDetails.branchCode.$error.minlength">
												Branch Code should not be less than 10 characters.</span>
										<span class="error"
												ng-show="formUserDetails.branchCode.$error.required">
												Branch Code is Required.</span>
									</span> 
									<span class="error" id="branchCode"></span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<h6>
										<label>Enter Password*</label>
									</h6>
									<input type="password" class="form-control" name="passwordOfUser"
										id="passwordOfUser"  placeholder="Enter New Password"
										ng-model="cCctr.entity.password" ng-minlength="8"
										ng-required="true" style="width: 95%;">
									<span class="input"
										style="float: right; margin: -5.5% -2% 0 0;"><i
										class="fa fa-fw fa-eye field-icon" style="cursor: pointer"
										onclick="viewP()"></i></span> 
										<span
											style="color: red"
											ng-show="formUserDetails.submitted || formUserDetails.passwordOfUser.$dirty && formUserDetails.passwordOfUser.$invalid">
											<span class="error"
													ng-show="formUserDetails.passwordOfUser.$error.minlength">
													password should not be less than 8 characters.</span>
											<span class="error"
													ng-show="formUserDetails.passwordOfUser.$error.required">
													Password is Required. </span>
											<span class="error"
													ng-show="formUserDetails.passwordOfUser.$error.pattern">
													Password should be at least 8 characters long and should contain one
													number,one character and one special character.. </span>
										</span>
										<span class="error" id="passwordOfUser"></span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<h6>
											<label>Zone*</label>
										</h6>
										<input class="form-control" type="text" name="zone"
												placeholder="Zone" ng-model="cCctr.entity.zone"
												autocomplete="off" ng-required="true" ng-maxlength="45"
												ng-pattern="/^[a-zA-Z0-9]*$/"
												ng-model-options="{updateOn: 'blur'}" /> 
									<span
												style="color: red"
												ng-show="formUserDetails.submitted ||formUserDetails.zone.$dirty && formUserDetails.zone.$invalid">
										<span class="error"
										ng-show="formUserDetails.zone.$error.required"> zone is Required. </span>
								  </span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<h6>
										<label>Confirm Password*</label>
									</h6>
									<input type="password" class="form-control" name="password1"
											id="password1" placeholder="Confirm New Password"
											style="width: 95%;"> 
											<span class="input"
													style="float: right; margin: -5.5% -2% 0 0;">
													<i class="fa fa-fw fa-eye field-icon" style="cursor: pointer; font-size:15px"
														onclick="viewConfirmP()"></i></span> 
											<span id="conErr" style="color: red;font-size: 15px;" ></span>
								</div>	
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<h6>
										<label>User PAN*</label>
									</h6>
									<input class="form-control" type="text" name="pan" style="text-transform:uppercase"
												placeholder="PAN" ng-model="cCctr.entity.pan" ng-pattern="/^([A-Za-z]{5}[0-9]{4}[A-Za-z]{1})*$/"
												autocomplete="off" ng-required="true" ng-maxlength="10" ng-minlength="10"
												ng-model-options="{updateOn: 'blur'}" />
									<span style="color: red"
											ng-show="formUserDetails.submitted || formUserDetails.pan.$dirty && formUserDetails.pan.$invalid">
										<span class="error"
												ng-show="formUserDetails.pan.$error.required">
												User PAN is Required: </span> 
										<span class="error" ng-show="formUserDetails.pan.$error.pattern">User PAN is invalid: </span>
										<span class="error" ng-show="formUserDetails.pan.$error.maxlength">
											PAN should not be greater than 10 characters. </span>
										<span class="error" ng-show="formUserDetails.pan.$error.minlength">
											PAN should not be less than 10 characters.</span>
									</span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<h6>
										<label>User Type*</label>
									</h6>
									<input class="form-control" type="text" name="type"
											placeholder="type" ng-model="cCctr.entity.type"
											autocomplete="off" ng-required="true" ng-maxlength="45"
											ng-pattern="/^[a-zA-Z0-9]*$/"
											ng-model-options="{updateOn: 'blur'}" />
											<span style="color: red"
												ng-show="formUserDetails.submitted || formUserDetails.type.$dirty && formUserDetails.type.$invalid">
												<span class="error"
														ng-show="formUserDetails.type.$error.pattern">
														Enter Valid User Type</span> 
												<span class="error"
														ng-show="formUserDetails.type.$error.required"> 
														Type is Required.</span>
											</span> 
											<span class="error" id="Type"></span>
										</div>
									</div>
								</div>
							</form>
						</div>
						<div class="row">
							<div class="modal-footer">
								<button
									ng-click=" formUserDetails.submitted=true;cCctr.submit(formUserDetails.$valid,cCctr.entity,'userDetails');"
									class="btn btn-success">Save</button>
								<button
									ng-click="cCctr.gotoListPage('userDetails','userDetails');"
									class="btn btn-danger" onclick="scrollWin()">Back</button>
						 </div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
</body>
</html>
<script>
	function viewP() {
		var x = document.getElementById("passwordOfUser");
		if (x.type === "password") {
			x.type = "text";
		} else {
			x.type = "password";
		}
	}

	function viewConfirmP() {
		var x = document.getElementById("password1");
		if (x.type === "password") {
			x.type = "text";
		} else {
			x.type = "password";
		}
	}
</script>
<script>
	$('#reload').click(function() {
		location.reload();
	});
</script>

<script>
	$('#passwordOfUser, #password1')
			.on(
					'keyup',
					function() {
						if ($('#passwordOfUser').val() == $('#password1').val()) {
							$('#changePassword').removeAttr('disabled');
							console.log('Password correct');
							$('#conErr').html('');

						} else {
							$('#conErr')
									.html(
											'Confirm Password should have the same value with new password')
									.css('color', 'red');
								
							$('#changePassword').attr('disabled', true);
						}
					});
</script>


